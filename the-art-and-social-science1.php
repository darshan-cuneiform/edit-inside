<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Art and Social Science</title>
    <meta name="description"
        content="Get your manuscript professionally translated and edited by subject-matter experts. We designed our services to help you publish your paper.">
    <meta name="keywords" content="">
    <link rel='shortcut icon' type='image/x-icon' href='new-favicon.svg' />

    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">

</head>

<body class="">
    <?php include ("includes/header.php"); ?>

    <section>
        <div class="inner-title-blk">
            <div class="container">
                <div class="row">
                    <div class="col-md-7">
                        <h1>The Art and Social Science</h1>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed amet, consec
                            tetur adipis cing elit, sed do eiusmod consect.adipiscing elit, sed amet, con
                            sectetur adipis cing elit, sed do eiusmod consect.Lorem ipsum dolor sit
                            amet, consecte tur adipiscing elit, sed amet, consectetur adipis cing elit,
                            sed do eiusmod conse ct.adipiscing elit, sed amet, consectetur adipis cing
                            elit, sed do eiusmod conse adipis cing elit, sed do eiusmod consect.</p>
                    </div>
                    <div class="col-md-5 text-center"><img src="images/the-art-and-social-science.png"
                            class="img-fluid"></div>
                </div>
            </div>
        </div>

        <div class="sa-table">
            <div class="container">
                <div class="row">
                <div>
    <table id="request-table">
   </table>
</div>

<div class="clearfix">
	<div class="box options">
		<label>Requests Per Page: </label>
      <select id="req_per_page" onchange="filter_requests()">
			<option>5</option>
			<option>10</option>
			<option>ALL</option>
		</select>
	</div>
	<div class="box pagination">
	</div>
</div>
                </div>
            </div>
        </div>

        <div class="grey-quality-blk">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-3 text-center"><img src="images/quality-assurance.png"></div>
                    <div class="col-md-9">
                        <div><strong class="font-20">12+ Years of Industrial Experienced</strong></div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eius elit, sed do
                            eiusmod.Lorem ipsum
                            dolor sit
                            amet, consectetur adipis cing elit, sed do eiusmod consect adipisc.Lorem ipsum dolor sit
                            amet, consectetur
                            adipis
                            cing elit, sed do eius elit, sed do eiusmod.Lorem ipsum dolor sit amet, consectetur adipis
                            cing elit, sed
                            do eiusmod
                            consect adipisc.</p>
                        <div><span>4.5/5</span><img src="images/star-rating.png"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <h2>Subject Area Expertise</h2>
        </div>

        <div class="sa-slider">
            <div class="text-center container ">
                <div class="row mx-auto my-auto">
                    <div id="recipeCarousel" class="carousel slide w-100" data-ride="carousel" data-touch="true">
                        <div class="carousel-inner " role="listbox">
                            <div class="carousel-item active">
                                <div class="sa-blk">
                                    <a href="#">
                                        <div class="card card-body">
                                            <div class="expert-blk">
                                                <img src="images/editor-profile-pic.png">
                                                <strong>Lorem Ipsum</strong>
                                                <p>Master in Physics
                                                    12+ Years of Experience
                                                    United Kingdom</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="carousel-item ">
                                <div class="sa-blk">
                                    <a href="#">
                                        <div class="card card-body">
                                            <div class="expert-blk">
                                                <img src="images/editor-profile-pic.png">
                                                <strong>Lorem Ipsum</strong>
                                                <p>Master in Physics
                                                    12+ Years of Experience
                                                    United Kingdom</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="carousel-item ">
                                <div class="sa-blk">
                                    <a href="#">
                                        <div class="card card-body">
                                            <div class="expert-blk">
                                                <img src="images/editor-profile-pic.png">
                                                <strong>Lorem Ipsum</strong>
                                                <p>Master in Physics
                                                    12+ Years of Experience
                                                    United Kingdom</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="carousel-item ">
                                <div class="sa-blk">
                                    <a href="#">
                                        <div class="card card-body">
                                            <div class="expert-blk">
                                                <img src="images/editor-profile-pic.png">
                                                <strong>Lorem Ipsum</strong>
                                                <p>Master in Physics
                                                    12+ Years of Experience
                                                    United Kingdom</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="carousel-item ">
                                <div class="sa-blk">
                                    <a href="#">
                                        <div class="card card-body">
                                            <div class="expert-blk">
                                                <img src="images/editor-profile-pic.png">
                                                <strong>Lorem Ipsum</strong>
                                                <p>Master in Physics
                                                    12+ Years of Experience
                                                    United Kingdom</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="carousel-item ">
                                <div class="sa-blk">
                                    <a href="#">
                                        <div class="card card-body">
                                            <div class="expert-blk">
                                                <img src="images/editor-profile-pic.png">
                                                <strong>Lorem Ipsum</strong>
                                                <p>Master in Physics
                                                    12+ Years of Experience
                                                    United Kingdom</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                            <img class="" src="images/sm-slider-ar-lt.png" alt="">
                        </a>
                        <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                            <img class="" src="images/sm-slider-ar-rt.png" alt="">
                        </a>
                    </div>
                </div>
            </div>
        </div>



    </section>

    <?php include ("includes/footer.php"); ?>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script>
// dummy data
const myarr = [{title: 'test1'},
  {title: 'test2'},
  {title: 'test3'},
  {title: 'test4'},
  {title: 'test5'},
  {title: 'test6'},
  {title: 'test7'},
  {title: 'test8'},
  {title: 'test9'},
  {title: 'test10'},
  {title: 'test11'},
  {title: 'test12'},
  {title: 'test13'},
  {title: 'test14'},
  {title: 'test15'},
  {title: 'test16'},
  {title: 'test17'},
  {title: 'test18'},
  {title: 'test19'},
  {title: 'test20'},
  {title: 'test21'},
  {title: 'test22'},
  {title: 'test23'},
  {title: 'test24'},
  {title: 'test25'},
  {title: 'test26'}];

// on page load collect data to load pagination as well as table
const data = {req_per_page: document.getElementById('req_per_page').value, page_no: 1};

// At a time maximum allowed pages to be shown in pagination div
const pagination_visible_pages = 4;


// hide pages from pagination from beginning if more than pagination_visible_pages
function hide_from_beginning(element) {
  if (element.style.display === '' || element.style.display === 'block') {
    element.style.display = 'none';
  } else {
    hide_from_beginning(element.nextSibling);
  }
}

// hide pages from pagination ending if more than pagination_visible_pages
function hide_from_end(element) {
  if (element.style.display === '' || element.style.display === 'block') {
    element.style.display = 'none';
  } else {
    hide_from_beginning(element.previousSibling);
  }
}

// load data and style for active page
function active_page(element, rows, req_per_page) {
  const current_page = document.getElementsByClassName('active');
  const next_link = document.getElementById('next_link');
  const prev_link = document.getElementById('prev_link');
  const next_tab = current_page[0].nextSibling;
  const prev_tab = current_page[0].previousSibling;
  current_page[0].className = current_page[0].className.replace('active', '');
  if (element === 'next') {
    if (parseInt(next_tab.text).toString() === 'NaN') {
      next_tab.previousSibling.className += ' active';
      next_tab.setAttribute('onclick', 'return false');
    } else {
      next_tab.className += ' active';
      render_table_rows(rows, parseInt(req_per_page), parseInt(next_tab.text));
      if (prev_link.getAttribute('onclick') === 'return false') {
        prev_link.setAttribute('onclick', `active_page('prev',\"${rows}\",${req_per_page})`);
      }
      if (next_tab.style.display === 'none') {
        next_tab.style.display = 'block';
        hide_from_beginning(prev_link.nextSibling);
      }
    }
  } else if (element === 'prev') {
    if (parseInt(prev_tab.text).toString() === 'NaN') {
      prev_tab.nextSibling.className += ' active';
      prev_tab.setAttribute('onclick', 'return false');
    } else {
      prev_tab.className += ' active';
      render_table_rows(rows, parseInt(req_per_page), parseInt(prev_tab.text));
      if (next_link.getAttribute('onclick') === 'return false') {
        next_link.setAttribute('onclick', `active_page('next',\"${rows}\",${req_per_page})`);
      }
      if (prev_tab.style.display === 'none') {
        prev_tab.style.display = 'block';
        hide_from_end(next_link.previousSibling);
      }
    }
  } else {
    element.className += 'active';
    render_table_rows(rows, parseInt(req_per_page), parseInt(element.text));
    if (prev_link.getAttribute('onclick') === 'return false') {
      prev_link.setAttribute('onclick', `active_page('prev',\"${rows}\",${req_per_page})`);
    }
    if (next_link.getAttribute('onclick') === 'return false') {
      next_link.setAttribute('onclick', `active_page('next',\"${rows}\",${req_per_page})`);
    }
  }
}

// Render the table's row in table request-table
function render_table_rows(rows, req_per_page, page_no) {
  const response = JSON.parse(window.atob(rows));
  const resp = response.slice(req_per_page * (page_no - 1), req_per_page * page_no);
  $('#request-table').empty();
  $('#request-table').append('<tr><th>Title</th></tr>');
  resp.forEach((element, index) => {
    if (Object.keys(element).length > 0) {
      const {req_no, title} = element;
      const td = `<tr><td>${title}</td></tr>`;
      $('#request-table').append(td);
    }
  });
}

// Pagination logic implementation
function pagination(data, myarr) {
  const all_data = window.btoa(JSON.stringify(myarr));
  $('.pagination').empty();
  if (data.req_per_page !== 'ALL') {
    let pager = `<a href="#" id="prev_link" onclick=active_page('prev',\"${all_data}\",${data.req_per_page})>&laquo;</a>` +
                    `<a href="#" class="active" onclick=active_page(this,\"${all_data}\",${data.req_per_page})>1</a>`;
    const total_page = Math.ceil(parseInt(myarr.length) / parseInt(data.req_per_page));
    if (total_page < pagination_visible_pages) {
      render_table_rows(all_data, data.req_per_page, data.page_no);
      for (let num = 2; num <= total_page; num++) {
        pager += `<a href="#" onclick=active_page(this,\"${all_data}\",${data.req_per_page})>${num}</a>`;
      }
    } else {
      render_table_rows(all_data, data.req_per_page, data.page_no);
      for (let num = 2; num <= pagination_visible_pages; num++) {
        pager += `<a href="#" onclick=active_page(this,\"${all_data}\",${data.req_per_page})>${num}</a>`;
      }
      for (let num = pagination_visible_pages + 1; num <= total_page; num++) {
        pager += `<a href="#" style="display:none;" onclick=active_page(this,\"${all_data}\",${data.req_per_page})>${num}</a>`;
      }
    }
    pager += `<a href="#" id="next_link" onclick=active_page('next',\"${all_data}\",${data.req_per_page})>&raquo;</a>`;
    $('.pagination').append(pager);
  } else {
    render_table_rows(all_data, myarr.length, 1);
  }
}

// calling pagination function
pagination(data, myarr);


// trigger when requests per page dropdown changes
function filter_requests() {
  const data = {req_per_page: document.getElementById('req_per_page').value, page_no: 1};
  pagination(data, myarr);
}

    </script>
</body>